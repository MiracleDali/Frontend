// jquery.min.js - 简化版的 jQuery 实现，仅包含 $.getJSON 功能
(function(global) {
    var jQuery = {
        getJSON: function(url, successCallback, errorCallback) {
            var xhr = new XMLHttpRequest();
            
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4) {
                    if (xhr.status >= 200 && xhr.status < 300) {
                        try {
                            var data = JSON.parse(xhr.responseText);
                            if (typeof successCallback === 'function') {
                                successCallback(data);
                            }
                        } catch (e) {
                            if (typeof errorCallback === 'function') {
                                errorCallback(e);
                            }
                        }
                    } else {
                        if (typeof errorCallback === 'function') {
                            errorCallback(new Error('Request failed with status: ' + xhr.status));
                        }
                    }
                }
            };
            
            xhr.open('GET', url, true);
            xhr.send();
        }
    };
    
    global.$ = global.jQuery = jQuery;
})(window);